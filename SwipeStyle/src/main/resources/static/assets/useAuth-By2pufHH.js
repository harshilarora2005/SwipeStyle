import{r as s,U as i,f as U}from"./index-Bm40GKLM.js";const d=()=>{const{setUserName:o,setUserEmail:a,setUserProfile:n,setUserGender:l,setIsLoggedIn:r,defaultProfileUrl:f}=s.useContext(i),[u,c]=s.useState(!0);return s.useEffect(()=>{U().then(t=>{const e=t.data;console.log("User fetched from /me:",e),o(e.name||e.username),a(e.email),l(e==null?void 0:e.gender),n(e.profilePictureUrl||e.imageUrl||f),r(!0)}).catch(t=>{console.error("User not logged in",t),r(!1)}).finally(()=>{c(!1)})},[]),{authLoading:u}};export{d as u};
