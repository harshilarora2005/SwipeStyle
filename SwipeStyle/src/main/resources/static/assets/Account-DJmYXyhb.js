import{c,r,U as k,d as w,j as e,e as h,M as C,H as M}from"./index-Bm40GKLM.js";import{u as L}from"./useAuth-By2pufHH.js";import{U as P}from"./user-mNqXqfHC.js";/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],S=c("compass",G);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],D=c("grid-3x3",_);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],z=c("pencil",U);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],I=c("x",E),u=r.memo(({isOpen:l,selectedGender:s,onGenderChange:n,onClose:i,onSave:d})=>{const t=r.useMemo(()=>["Male","Female","Unisex"],[]);return l?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-pink-500 to-purple-500 px-6 py-4 text-white relative",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Choose Clothing Preference"}),e.jsx("button",{onClick:i,className:"absolute right-4 top-4 hover:bg-white/20 rounded-full p-1 transition-colors duration-200",children:e.jsx(I,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("p",{className:"text-gray-600 mb-6",children:"Select your preferred clothing category to get personalized recommendations."}),e.jsx("div",{className:"space-y-3 mb-6",children:t.map(a=>e.jsxs("label",{className:"flex items-center p-3 rounded-xl border-2 cursor-pointer transition-all duration-200 hover:bg-gray-50",style:{borderColor:s===a?"#ec4899":"#e5e7eb",backgroundColor:s===a?"#fdf2f8":"transparent"},children:[e.jsx("input",{type:"radio",name:"gender",value:a,checked:(s==null?void 0:s.toLowerCase())===a.toLowerCase(),onChange:n,className:"w-4 h-4 text-pink-500"}),e.jsx("span",{className:"ml-3 text-gray-800 font-medium",children:a})]},a))}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:i,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors duration-200",children:"Cancel"}),e.jsx("button",{onClick:d,disabled:!s,className:"flex-1 px-4 py-2 bg-gradient-to-r from-pink-500 to-purple-500 text-white rounded-xl hover:from-pink-600 hover:to-purple-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:"Save Changes"})]})]})]})}):null});u.displayName="GenderDialog";const g=r.memo(({userEmail:l,userGender:s,onEditGender:n})=>e.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 rounded-2xl p-6 border border-gray-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(P,{className:"w-5 h-5 text-pink-500"}),"Profile Information"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(C,{className:"w-5 h-5 text-pink-500"}),e.jsx("span",{className:"text-gray-600",children:"Email:"}),e.jsx("span",{className:"text-gray-800 font-medium",children:l})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(M,{className:"w-5 h-5 text-purple-500"}),e.jsx("span",{className:"text-gray-600",children:"Clothing Preference:"}),e.jsxs("button",{onClick:n,className:"relative inline-flex items-center bg-gradient-to-r from-pink-500 to-purple-500 text-white px-3 py-1 rounded-full text-sm font-medium group cursor-pointer hover:from-pink-600 hover:to-purple-600 transition-all duration-200",children:[s||"Select Preference",e.jsx("span",{className:"ml-2 group-hover:scale-110 transition-transform duration-200",children:e.jsx(z,{className:"w-4 h-4"})})]})]})]})]}));g.displayName="ProfileInfo";const A=()=>{const{setUserGender:l,userName:s,isLoggedIn:n,userEmail:i,userProfile:d,userGender:t}=r.useContext(k),[a,x]=r.useState(!1),[o,p]=r.useState(t),{authLoading:f}=L(),b=r.useCallback(async()=>{if(o!==t){l(o),x(!1);const m={username:s,gender:o};try{await w(m)}catch(y){console.error("Failed to update gender:",y),l(t)}}},[o,t,l,s]),j=r.useCallback(()=>{p(t),x(!0)},[t]),N=r.useCallback(()=>{x(!1)},[]),v=r.useCallback(m=>{p(m.target.value)},[]);return f?e.jsx("div",{className:"min-h-screen flex justify-center items-center bg-gradient-to-br from-pink-50 to-purple-50",children:e.jsx("p",{className:"text-gray-600 text-lg",children:"Loading account info..."})}):n?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-blue-50",children:[e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"My Account"}),e.jsx("p",{className:"text-gray-600",children:"Your personal space"})]}),e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden border border-pink-100",children:[e.jsx("div",{className:"h-32 bg-gradient-to-r from-pink-400 via-purple-400 to-blue-400 relative",children:e.jsx("div",{className:"absolute inset-0 bg-white/10 backdrop-blur-sm"})}),e.jsxs("div",{className:"px-8 pb-8 -mt-16 relative",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("img",{src:d,alt:"Profile",className:"w-32 h-32 rounded-full border-4 border-white shadow-xl object-cover",loading:"lazy"})}),e.jsx("div",{className:"text-center mb-8",children:e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:s})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsxs(h,{to:"/collections",className:"bg-gradient-to-br from-pink-50 to-pink-100 hover:from-pink-100 hover:to-pink-200 rounded-2xl p-6 text-center border border-pink-200 transition-all duration-200 shadow-lg hover:shadow-xl group",children:[e.jsx("div",{className:"bg-pink-500 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform duration-200",children:e.jsx(D,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-pink-600 mb-1",children:"Collections"}),e.jsx("p",{className:"text-pink-700 text-sm",children:"View your saved items"})]}),e.jsxs(h,{to:"/explore",className:"bg-gradient-to-br from-purple-50 to-purple-100 hover:from-purple-100 hover:to-purple-200 rounded-2xl p-6 text-center border border-purple-200 transition-all duration-200 shadow-lg hover:shadow-xl group",children:[e.jsx("div",{className:"bg-purple-500 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform duration-200",children:e.jsx(S,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-purple-600 mb-1",children:"Explore"}),e.jsx("p",{className:"text-purple-700 text-sm",children:"Discover new items"})]})]}),e.jsx(g,{userEmail:i,userGender:t,onEditGender:j})]})]})})]}),e.jsx(u,{isOpen:a,selectedGender:o,onGenderChange:v,onClose:N,onSave:b})]}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 to-purple-50 flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-gray-600",children:"Please Login First..."})})})},H=r.memo(A);export{H as default};
